(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(4840)}])},2602:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return o},noSSR:function(){return n}});let l=a(8754);a(5893),a(7294);let s=l._(a(5491));function r(e){return{default:(null==e?void 0:e.default)||e}}function n(e,t){return delete t.webpack,delete t.modules,e(t)}function o(e,t){let a=s.default,l={loading:e=>{let{error:t,isLoading:a,pastDelay:l}=e;return null}};e instanceof Promise?l.loader=()=>e:"function"==typeof e?l.loader=e:"object"==typeof e&&(l={...l,...e});let o=(l={...l,...t}).loader;return(l.loadableGenerated&&(l={...l,...l.loadableGenerated},delete l.loadableGenerated),"boolean"!=typeof l.ssr||l.ssr)?a({...l,loader:()=>null!=o?o().then(r):Promise.resolve(r(()=>null))}):(delete l.webpack,delete l.modules,n(a,l))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1159:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return l}});let l=a(8754)._(a(7294)).default.createContext(null)},5491:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});let l=a(8754)._(a(7294)),s=a(1159),r=[],n=[],o=!1;function d(e){let t=e(),a={loading:!0,loaded:null,error:null};return a.promise=t.then(e=>(a.loading=!1,a.loaded=e,e)).catch(e=>{throw a.loading=!1,a.error=e,e}),a}class i{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let a=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),r=null;function d(){if(!r){let t=new i(e,a);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!o){let e=a.webpack?a.webpack():a.modules;e&&n.push(t=>{for(let a of e)if(t.includes(a))return d()})}function c(e,t){!function(){d();let e=l.default.useContext(s.LoadableContext);e&&Array.isArray(a.modules)&&a.modules.forEach(t=>{e(t)})}();let n=l.default.useSyncExternalStore(r.subscribe,r.getCurrentValue,r.getCurrentValue);return l.default.useImperativeHandle(t,()=>({retry:r.retry}),[]),l.default.useMemo(()=>{var t;return n.loading||n.error?l.default.createElement(a.loading,{isLoading:n.loading,pastDelay:n.pastDelay,timedOut:n.timedOut,error:n.error,retry:r.retry}):n.loaded?l.default.createElement((t=n.loaded)&&t.default?t.default:t,e):null},[e,n])}return c.preload=()=>d(),c.displayName="LoadableComponent",l.default.forwardRef(c)}(d,e)}function u(e,t){let a=[];for(;e.length;){let l=e.pop();a.push(l(t))}return Promise.all(a).then(()=>{if(e.length)return u(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{u(r).then(e,t)}),c.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let a=()=>(o=!0,t());u(n,e).then(a,a)})),window.__NEXT_PRELOADREADY=c.preloadReady;let p=c},4840:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return g},default:function(){return y}});var l=a(5893),s=a(9008),r=a.n(s),n=a(7294),o=a(5152);function d(e){let{spans:t}=e;return(0,l.jsx)("div",{className:"flex flex-wrap gap-3 text-sm",children:t.map(e=>(0,l.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-white/5 px-3 py-1",children:[(0,l.jsx)("span",{className:"inline-block h-3 w-3 rounded-full",style:{background:e.color||"#fff"}}),(0,l.jsxs)("div",{className:"flex flex-col leading-tight",children:[(0,l.jsx)("span",{className:"font-semibold",children:e.label||e.dataset}),(0,l.jsxs)("span",{className:"text-slate-300 text-xs",children:[new Date(e.start).toLocaleString()," – ",new Date(e.end).toLocaleString()]})]})]},"".concat(e.dataset,"-").concat(e.start)))})}let i=a.n(o)()(()=>Promise.all([a.e(960),a.e(660)]).then(a.bind(a,8660)),{loadableGenerated:{webpack:()=>[8660]},ssr:!1,loading:()=>(0,l.jsxs)("div",{className:"flex h-64 items-center justify-center text-slate-300",children:[(0,l.jsxs)("svg",{className:"mr-2 h-5 w-5 animate-spin text-cyan-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Loading chart..."]})});function c(e){let{title:t,description:a,data:s,options:r={},spans:o=[]}=e,[c,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{u(!0)},[]);let p=s.datasets.map(e=>{let t=[],a=[],l=[];e.data.forEach(s=>{let r=s.x instanceof Date?s.x.toISOString():s.x;t.push(r);let n=null===s.y||void 0===s.y?NaN:s.y;a.push(n),l.push("".concat(e.label,": ").concat(isNaN(n)?"N/A":n))});let s=!1!==e.showLine,n=r.mode||(s?"lines+markers":"markers"),o="solid";e.borderDash&&(o=Array.isArray(e.borderDash)?"dash":e.borderDash);let d={x:t,y:a,text:l,type:"scatter",mode:n,name:e.label,marker:{color:e.backgroundColor||e.borderColor||"#60a5fa",size:e.pointRadius||4},connectgaps:!1,hovertemplate:"%{text}<extra></extra>"};return s&&(d.line={color:e.borderColor||e.backgroundColor||"#60a5fa",width:e.borderWidth||2,dash:o}),d}),m=o.map(e=>({type:"rect",xref:"x",yref:"paper",x0:e.start,x1:e.end,y0:0,y1:1,fillcolor:(e.color||"#ffffff")+"33",layer:"below",line:{width:0}})),h=o.map((e,t)=>{let a=new Date(e.start),l=new Date(e.end);return{x:new Date((a.getTime()+l.getTime())/2).toISOString(),y:1.02,xref:"x",yref:"paper",text:e.label||e.dataset,showarrow:!1,font:{color:e.color||"#ffffff",size:11,family:"sans-serif"},bgcolor:"rgba(15, 23, 42, 0.8)",bordercolor:e.color||"#ffffff",borderwidth:1,borderpad:4,xanchor:"center",yanchor:"bottom"}}),b={paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(15, 23, 42, 0.6)",font:{color:"#cbd5e1"},xaxis:{type:"date",gridcolor:"rgba(255,255,255,0.05)",showgrid:!0,zeroline:!1},yaxis:{gridcolor:"rgba(255,255,255,0.08)",showgrid:!0,zeroline:!1,...r.yaxis},shapes:m,annotations:h,hovermode:"closest",legend:{x:.5,xanchor:"center",y:-.15,yanchor:"top",orientation:"h",font:{color:"#e2e8f0"},bgcolor:"rgba(0,0,0,0)"},margin:{l:60,r:60,t:40,b:100},...r.layout},x={displayModeBar:!0,displaylogo:!1,modeBarButtonsToRemove:["lasso2d","select2d"],responsive:!0,...r.config};return(0,l.jsxs)("div",{className:"rounded-2xl bg-white/5 p-4 shadow-lg shadow-black/30",children:[(0,l.jsx)("div",{className:"mb-3 flex items-start justify-between gap-4",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white",children:t}),a?(0,l.jsx)("p",{className:"text-sm text-slate-300",children:a}):null]})}),o.length>0?(0,l.jsx)(d,{spans:o}):null,(0,l.jsx)("div",{className:"mt-4 rounded-xl bg-slate-900/60 p-3",children:c?(0,l.jsx)(i,{data:p,layout:b,config:x,style:{width:"100%",height:"400px"}}):(0,l.jsx)("div",{className:"flex h-64 items-center justify-center text-slate-400",children:"Loading chart..."})})]})}function u(e){let{rows:t}=e;if(!t||0===t.length)return null;let a=[{key:"dataset_label",label:"Dataset"},{key:"target_name",label:"Target"},{key:"ping_mean_ms",label:"Ping \xb5 (ms)"},{key:"ping_std_ms",label:"Ping stdev (ms)"},{key:"ping_sem_ms",label:"Ping std err"},{key:"fail_pct",label:"Fail %"},{key:"outage_events",label:"Outages"},{key:"outage_minutes",label:"Outage min"},{key:"outage_pct_est",label:"Outage %"}];return(0,l.jsxs)("div",{className:"overflow-hidden rounded-2xl bg-white/5 shadow-lg shadow-black/30",children:[(0,l.jsxs)("div",{className:"px-4 py-3",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Ping summary"}),(0,l.jsx)("p",{className:"text-sm text-slate-300",children:"Latency stats and failure rates per dataset/target."})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full text-sm text-slate-100",children:[(0,l.jsx)("thead",{className:"bg-white/5 text-xs uppercase tracking-wide text-slate-300",children:(0,l.jsx)("tr",{children:a.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left",children:e.label},e.key))})}),(0,l.jsx)("tbody",{children:t.map((e,t)=>(0,l.jsx)("tr",{className:"border-t border-white/5 hover:bg-white/5",children:a.map(t=>{var a;return(0,l.jsx)("td",{className:"px-3 py-2",children:null!==(a=e[t.key])&&void 0!==a?a:"–"},t.key)})},t))})]})})]})}function p(e){let{rows:t}=e;if(!t||0===t.length)return null;let a=[{key:"dataset_label",label:"Dataset"},{key:"download_mean_mbps",label:"Down \xb5 (Mbps)"},{key:"download_std_mbps",label:"Down stdev"},{key:"download_sem_mbps",label:"Down std err"},{key:"upload_mean_mbps",label:"Up \xb5 (Mbps)"},{key:"upload_std_mbps",label:"Up stdev"},{key:"upload_sem_mbps",label:"Up std err"}];return(0,l.jsxs)("div",{className:"overflow-hidden rounded-2xl bg-white/5 shadow-lg shadow-black/30",children:[(0,l.jsxs)("div",{className:"px-4 py-3",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Speedtest summary"}),(0,l.jsx)("p",{className:"text-sm text-slate-300",children:"Download/upload stats per dataset."})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full text-sm text-slate-100",children:[(0,l.jsx)("thead",{className:"bg-white/5 text-xs uppercase tracking-wide text-slate-300",children:(0,l.jsx)("tr",{children:a.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left",children:e.label},e.key))})}),(0,l.jsx)("tbody",{children:t.map((e,t)=>(0,l.jsx)("tr",{className:"border-t border-white/5 hover:bg-white/5",children:a.map(t=>{var a;return(0,l.jsx)("td",{className:"px-3 py-2",children:null!==(a=e[t.key])&&void 0!==a?a:"–"},t.key)})},t))})]})})]})}function m(e){let{outages:t,datasetLabels:a}=e;if(!t||0===t.length)return null;let s=[{key:"dataset",label:"Dataset",render:e=>(null==a?void 0:a[e.dataset])||e.dataset},{key:"target_name",label:"Target"},{key:"start_ts",label:"Start",render:e=>e.start_ts?new Date(e.start_ts).toLocaleString():""},{key:"end_ts",label:"End",render:e=>e.end_ts?new Date(e.end_ts).toLocaleString():""},{key:"duration_seconds",label:"Duration (min)",render:e=>null!=e.duration_seconds?(e.duration_seconds/60).toFixed(1):""},{key:"failed_checks",label:"Failed checks"}],r=t.filter(e=>e.start_ts||e.end_ts).sort((e,t)=>new Date(e.start_ts||0)-new Date(t.start_ts||0));return(0,l.jsxs)("div",{className:"overflow-hidden rounded-2xl bg-white/5 shadow-lg shadow-black/30",children:[(0,l.jsxs)("div",{className:"px-4 py-3",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Outage periods"}),(0,l.jsx)("p",{className:"text-sm text-slate-300",children:"Start/end times and durations per dataset/target."})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full text-sm text-slate-100",children:[(0,l.jsx)("thead",{className:"bg-white/5 text-xs uppercase tracking-wide text-slate-300",children:(0,l.jsx)("tr",{children:s.map(e=>(0,l.jsx)("th",{className:"px-3 py-2 text-left",children:e.label},e.key))})}),(0,l.jsx)("tbody",{children:r.map((e,t)=>(0,l.jsx)("tr",{className:"border-t border-white/5 hover:bg-white/5",children:s.map(t=>{var a;return(0,l.jsx)("td",{className:"px-3 py-2",children:t.render?t.render(e):null!==(a=e[t.key])&&void 0!==a?a:"–"},t.key)})},t))})]})})]})}let h={palette:{upstairs:"#4ade80",downstairs:"#60a5fa",downstairs_2:"#f472b6"},datasetLabels:{upstairs:"cable B, port A",downstairs:"cable A, port B",downstairs_2:"cable A, port A"},datasetSpans:[],summary:[],latencySeries:{},speedtestSeries:[],failureSeries:[],failureOrder:[],outages:[],speedtestTools:[]},b=(e,t)=>(null==t?void 0:t[e])||e,x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return e.map(e=>{let l=(null==t?void 0:t[e.dataset])||e.borderColor;return{...e,label:b(e.dataset,a),tension:.25,spanGaps:!1,pointRadius:2.5,borderWidth:2,borderColor:l,backgroundColor:l}})},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return e.map(e=>{let l=(null==t?void 0:t[e.dataset])||e.borderColor;return{...e,label:b(e.dataset,a),pointRadius:4,borderWidth:0,showLine:!1,borderColor:l,backgroundColor:l}})},_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return e.map(e=>{let l=(null==t?void 0:t[e.dataset])||e.borderColor;return{...e,label:e.label||b(e.dataset,a),tension:.3,pointRadius:3,borderWidth:2,borderColor:l,backgroundColor:l,spanGaps:!1}})};var g=!0;function y(e){var t,a;let{data:s}=e,n=s||h,{summary:o,latencySeries:d,speedtestSeries:i,datasetSpans:g,palette:y,datasetLabels:w,failureSeries:j,failureOrder:v,outages:k,speedtestTools:N}=n,C=(g||[]).map(e=>({...e,color:null==y?void 0:y[e.dataset],label:e.label||b(e.dataset,w)})),D=(o||[]).map(e=>({...e,dataset_label:b(e.dataset,w)})),O=D.filter(e=>e.target_name),S=Object.values(D.reduce((e,t)=>(e[t.dataset]||(e[t.dataset]={dataset_label:t.dataset_label}),e[t.dataset].download_mean_mbps=t.download_mean_mbps,e[t.dataset].download_std_mbps=t.download_std_mbps,e[t.dataset].download_sem_mbps=t.download_sem_mbps,e[t.dataset].upload_mean_mbps=t.upload_mean_mbps,e[t.dataset].upload_std_mbps=t.upload_std_mbps,e[t.dataset].upload_sem_mbps=t.upload_sem_mbps,e),{}));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r(),{children:[(0,l.jsx)("title",{children:"Network Monitor Dashboard"}),(0,l.jsx)("meta",{name:"description",content:"Interactive view of network monitoring latency, failures, outages, and speedtests without exposing identifying details."})]}),(0,l.jsxs)("main",{className:"mx-auto max-w-6xl space-y-6 px-4 py-8",children:[(0,l.jsxs)("header",{className:"space-y-2",children:[(0,l.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Network Monitor"}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Interactive Dashboard"}),(0,l.jsx)("p",{className:"max-w-3xl text-slate-300",children:"Data exported from the notebook backend."}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,l.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="network_monitor_data.json",a.click(),URL.revokeObjectURL(t)},className:"rounded-lg bg-cyan-500 px-3 py-2 text-sm font-semibold text-slate-950 hover:bg-cyan-400",children:"Export JSON"}),(0,l.jsx)("button",{onClick:()=>{let e=O.map(e=>({dataset:e.dataset_label,target:e.target_name,ping_mean_ms:e.ping_mean_ms,ping_stdev_ms:e.ping_std_ms,ping_std_err:e.ping_sem_ms,fail_pct:e.fail_pct,outage_minutes:e.outage_minutes,outage_pct:e.outage_pct_est,download_mean_mbps:e.download_mean_mbps,upload_mean_mbps:e.upload_mean_mbps})),t=Object.keys(e[0]||{}),a=new Blob([[t.join(",")].concat(e.map(e=>t.map(t=>null!=e[t]?e[t]:"").join(","))).join("\n")],{type:"text/csv"}),l=URL.createObjectURL(a),s=document.createElement("a");s.href=l,s.download="network_monitor_summary.csv",s.click(),URL.revokeObjectURL(l)},className:"rounded-lg bg-emerald-500 px-3 py-2 text-sm font-semibold text-slate-950 hover:bg-emerald-400",children:"Export CSV (summary)"})]})]}),(0,l.jsx)(u,{rows:O}),(0,l.jsx)(p,{rows:S}),(0,l.jsx)(m,{outages:k||[],datasetLabels:w}),(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,l.jsx)(c,{title:"Latency – Google",description:"Ping latency to Google; failures break the line.",data:{datasets:x(null!==(t=null==d?void 0:d["internet-google"])&&void 0!==t?t:[],y,w)},spans:C}),(0,l.jsx)(c,{title:"Latency – Cloudflare",description:"Ping latency to Cloudflare; failures break the line.",data:{datasets:x(null!==(a=null==d?void 0:d["internet-cloudflare"])&&void 0!==a?a:[],y,w)},spans:C})]}),(0,l.jsx)(c,{title:"Ping failures",description:"All failed checks across datasets.",data:{datasets:f(j||[],y,w)},spans:C,options:{yaxis:{tickmode:"array",tickvals:(v||[]).map((e,t)=>t),ticktext:(v||[]).map(e=>b(e,w))},plugins:{legend:{position:"right",labels:{color:"#e2e8f0"}}}}}),(0,l.jsx)(c,{title:"Speedtests",description:"Download/upload Mbps over time.",data:{datasets:_(i||[],y,w)},spans:C,options:{plugins:{legend:{position:"right",labels:{color:"#e2e8f0"}}}}})]})]})}},5152:function(e,t,a){e.exports=a(2602)},9008:function(e,t,a){e.exports=a(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);